{% extends "layout.html" %}
{% block content %}

<!-- Portfolio Item Heading -->
<h1 class="my-4">Recycle -
    <small>efficient management of waste resources</small>
</h1>

<!-- Portfolio Item Row -->
<div class="row">

    <div class="col-md-8">
        <img class="img-fluid" src="/static/img/industrial_waste_1.jp" alt="">
    </div>

    <div class="col-md-4">
        <h3 class="my-3">Vision</h3>
        <p>We aim to link the waste output of industries and their inputs, so that waste
            resources of one industry can be used as input to another.
            <br>
            This would lead to less wastage of resources
        </p>

        <div class="form-wrap border login-form rounded">
            <h4>Log in</h4>
            <form role="form" action="/" method="post" id="login-form" autocomplete="off">
                {{ form.csrf_token }}
                <div class="form-group">
                    <label for="email" class="sr-only">Email</label>
                    {{ form.email(class_="form-control", placeholder="somebody@example.com") }}
                </div>
                <div class="form-group">
                    <label for="password" class="sr-only">Password</label>
                    {{ form.password(class_="form-control") }}
                </div>
                <input type="submit" id="btn-login" class="btn btn-custom btn-lg btn-block" value="Log in">
            </form>
            <a href="javascript:;" class="forget" data-toggle="modal" data-target="#forget-modal">Forgot your
                password?</a>

        </div>

    </div>
</div>
<!-- /.row -->

<!-- Related Projects Row -->
<h3 class="my-4">Steps</h3>

<div class="stepwizard">
    <div class="stepwizard-row">
        <div class="stepwizard-step">
            <button type="button" class="btn btn-danger btn-circle" disabled="disabled">1</button>
            <p>Register / Sign in</p>
        </div>
        <div class="stepwizard-step">
            <button type="button" class="btn btn-primary btn-circle" disabled="disabled">2</button>
            <p>Enter waste produced and input material needed</p>
        </div>
        <div class="stepwizard-step">
            <button type="button" class="btn btn-success btn-circle" disabled="disabled">3</button>
            <p>Match with similar industries</p>
        </div>
    </div>
</div>
<!-- /.row -->


<div class="modal fade" id="forget-modal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <form role="form" action="{{ url_for('index.reset_password') }}" method="post" id="password-reset-form"
                  autocomplete="off">
                <div class="modal-header">
                    <h4 class="modal-title">Reset Password</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    {{ form.csrf_token }}
                    <div class="form-group">
                        <label for="email">Email</label>
                        {{ reset_password_form.email(class_="form-control", placeholder="somebody@example.com") }}
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label><small> (Password should have atleast 6 characters)</small>
                        {{ reset_password_form.password(class_="form-control") }}
                    </div>
                    <div class="form-group">
                        <label for="password">Confirm Password</label>
                        {{ reset_password_form.confirm(class_="form-control") }}
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="submit" id="btn-login-reset" class="btn btn-custom btn-lg btn-block"
                           value="Reset Password">
                </div>
            </form>
        </div>

    </div>
</div>


{% endblock %}


{% block script %}

<script type="text/javascript">
    $("document").ready(function () {

        $("#password-reset-form").validate({
            ignore: [],
            // Specify validation rules
            rules: {
                // The key name on the left side is the name attribute
                // of an input field. Validation rules are defined
                // on the right side
                email: {
                    required: true,
                    // Specify that email should be validated
                    // by the built-in "email" rule
                    email: true
                },
                password: {
                    required: true,
                    minlength: 6
                },
                confirm: {
                    required: true,
                    minlength: 6
                }
            },
            // Specify validation error messages
            messages: {
                password: {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 6 characters long"
                },
                confirm: {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 6 characters long"
                },
                email: "Please enter a valid email address"
            },
            // Make sure the form is submitted to the destination defined
            // in the "action" attribute of the form when valid
            submitHandler: function (form) {
                form.submit();
            }
        });

        $("#login-form").validate({
            ignore: [],
            // Specify validation rules
            rules: {
                // The key name on the left side is the name attribute
                // of an input field. Validation rules are defined
                // on the right side
                email: {
                    required: true,
                    // Specify that email should be validated
                    // by the built-in "email" rule
                    email: true
                },
                password: {
                    required: true,
                    minlength: 6
                }
            },
            // Specify validation error messages
            messages: {
                password: {
                    required: "Please provide a password",
                    minlength: "Your password must be at least 6 characters long"
                },
                email: "Please enter a valid email address"
            },
            // Make sure the form is submitted to the destination defined
            // in the "action" attribute of the form when valid
            submitHandler: function (form) {
                form.submit();
            }
        });

    });

</script>
{% endblock %}

